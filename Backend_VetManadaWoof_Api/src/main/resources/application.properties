# ===============================
# Configuracion General
# ===============================
spring.application.name = VetManadaWoof

# IMPORTANTE PARA RENDER:
# Render asigna un puerto automatico en la variable ${PORT}. 
# Si no existe, usa 8088.
server.port = ${PORT:8088}
server.servlet.context-path = /

# Seguridad JWT (Usa variable o el valor por defecto si no existe)
app.jwt.secret = ${JWT_SECRET:mySuperSecretKeyForJWTGenerationInVetManadaWoofApplication2024}
app.jwt.expiration-ms = 86400000

# ===============================
# Configuracion Base de Datos (Aiven MySQL)
# ===============================
# La URL incluye sslMode=REQUIRED porque Aiven obliga a usar conexion segura
spring.datasource.url = jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?sslMode=REQUIRED
spring.datasource.username = ${DB_USER}
spring.datasource.password = ${DB_PASSWORD}
spring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver

# ===============================
# Configuracion JPA / Hibernate
# ===============================
# En la nube usa 'update' para que cree las tablas si no existen, pero no borre datos.
spring.jpa.hibernate.ddl-auto = update

spring.jpa.database-platform = org.hibernate.dialect.MySQL8Dialect
# En produccion es mejor apagar el log de SQL para no llenar la consola
spring.jpa.show-sql = false
spring.jpa.properties.hibernate.format_sql = true

# Exclusiones de seguridad (Tal como lo tenias)
spring.autoconfigure.exclude = org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration